{"ast":null,"code":"import{weekDays}from'../../constants';export const getDatesForMonth=state=>{const[firstDay,lastDay,lastDayOfPreviousMonth]=[new Date(state.year,state.month-1,1),new Date(state.year,state.month,0),new Date(state.year,state.month-1,0)];const[firstDayOfTheMonth,lastDayOfTheMonth,totalNumOfDays,totalNumOfDaysInPreviousMonths]=[firstDay.toLocaleDateString('en-us',{weekday:'long',year:'numeric',month:'long',day:'numeric'}),lastDay.toLocaleDateString('en-us',{weekday:'long',year:'numeric',month:'long',day:'numeric'}),lastDay.getDate(),lastDayOfPreviousMonth.getDate()];const extraDays=weekDays.indexOf(firstDayOfTheMonth.split(',')[0]);return[totalNumOfDays,extraDays,totalNumOfDaysInPreviousMonths];};export const calenderMainLogic=(state,dispatch,data)=>{let structureToHoldDates=[];const[num,paddingDay,totalNumOfDaysInPreviousMonths]=getDatesForMonth(state);for(let i=1;i<=num+paddingDay;i++){if(i>paddingDay){const currentDay=i-paddingDay;const currentMonth=state.month;const currentYear=state.year;const currentDate=`${currentDay}-${currentMonth}-${currentYear}`;let obj=data.find(o=>o.day===currentDate);if(obj){structureToHoldDates.push({day:i-paddingDay,event:true,dumpDay:false,events:obj.events});}else{structureToHoldDates.push({day:i-paddingDay,event:false,dumpDay:false,events:[]});}}else{structureToHoldDates.push({day:totalNumOfDaysInPreviousMonths-paddingDay+i,event:false,dumpDay:true,events:[]});}}dispatch({type:'UPDATE_DATES',data:structureToHoldDates});};","map":{"version":3,"names":["weekDays","getDatesForMonth","state","firstDay","lastDay","lastDayOfPreviousMonth","Date","year","month","firstDayOfTheMonth","lastDayOfTheMonth","totalNumOfDays","totalNumOfDaysInPreviousMonths","toLocaleDateString","weekday","day","getDate","extraDays","indexOf","split","calenderMainLogic","dispatch","data","structureToHoldDates","num","paddingDay","i","currentDay","currentMonth","currentYear","currentDate","obj","find","o","push","event","dumpDay","events","type"],"sources":["/Users/ananafrida/dummy-hackathon/src/containers/calender/calender.function.ts"],"sourcesContent":["import {EventArrayType} from '../../../types/calenderState.types';\nimport {weekDays} from '../../constants';\n\nexport const getDatesForMonth = (state: any) => {\n  const [firstDay, lastDay, lastDayOfPreviousMonth] = [\n    new Date(state.year, state.month - 1, 1),\n    new Date(state.year, state.month, 0),\n    new Date(state.year, state.month - 1, 0)\n  ];\n\n  const [\n    firstDayOfTheMonth,\n    lastDayOfTheMonth,\n    totalNumOfDays,\n    totalNumOfDaysInPreviousMonths\n  ] = [\n    firstDay.toLocaleDateString('en-us', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    }),\n    lastDay.toLocaleDateString('en-us', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    }),\n    lastDay.getDate(),\n    lastDayOfPreviousMonth.getDate()\n  ];\n\n  const extraDays = weekDays.indexOf(firstDayOfTheMonth.split(',')[0]);\n  return [totalNumOfDays, extraDays, totalNumOfDaysInPreviousMonths];\n};\n\nexport const calenderMainLogic = (state: any, dispatch: any, data: any) => {\n  let structureToHoldDates: EventArrayType[] = [];\n\n  const [num, paddingDay, totalNumOfDaysInPreviousMonths] =\n    getDatesForMonth(state);\n\n  for (let i = 1; i <= num + paddingDay; i++) {\n    if (i > paddingDay) {\n      const currentDay = i - paddingDay;\n      const currentMonth = state.month;\n      const currentYear = state.year;\n      const currentDate = `${currentDay}-${currentMonth}-${currentYear}`;\n\n      let obj = data.find((o: any) => o.day === currentDate);\n      if (obj) {\n        structureToHoldDates.push({\n          day: i - paddingDay,\n          event: true,\n          dumpDay: false,\n          events: obj.events\n        });\n      } else {\n        structureToHoldDates.push({\n          day: i - paddingDay,\n          event: false,\n          dumpDay: false,\n          events: []\n        });\n      }\n    } else {\n      structureToHoldDates.push({\n        day: totalNumOfDaysInPreviousMonths - paddingDay + i,\n        event: false,\n        dumpDay: true,\n        events: []\n      });\n    }\n  }\n\n  dispatch({type: 'UPDATE_DATES', data: structureToHoldDates});\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}